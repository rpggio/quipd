<template name="quipsView">


        <div id="quips">

            <div id="quips-blank-top" class="quips-blank"></div>

            {{#if areMoreQuips}}
            <div id="load-more" class="scroll-item {{#if isActive 'load-more'}}active{{/if}}">
                <div class="quip-content">Show more</div>
                <div class="quip-border"></div>
            </div>
            {{/if}} 

            {{#if searchPattern}} 
            <h2 id="search-desc">&lsquo;{{ searchPattern }}&rsquo;</h2>
            <span id="search-quit" class="context-link" title="Quit search">X</span>
            {{/if}}

            {{#each quips}}
            <div id="{{_id}}" class="quip scroll-item {{#if isActive _id}}active{{/if}}">
                {{#if areEditing _id}} {{> quipEdit}} {{else}}
                    <div class="quip-content {{#if hasTags}}has-tags{{/if}}">{{text}}</div>
                    <div class="quip-tags">
                        {{#each tags}}
                        <span class="tag">#{{this}}</span>
                        {{/each}}
                    </div>
                    <div class="quip-del context-link" title="Delete quip">X</div>
                {{/if}}
                <div class="quip-fade"></div>
                <div class="quip-border"></div>

                {{#if helpOverlay }}
                {{#if isActive _id}}
                    {{> quipShortcuts}}
                {{/if}}
                {{/if}}
            </div>
            {{/each}}

            <div id="quipbox" class="quip-draft quip scroll-item {{#if isActive 'quipbox'}}active{{/if}}">
                <div class="quip-border"></div>
                <div class="quip-content">
                    <form id="new-quip">
                        <textarea type="text" class="autosize" id="new-quip-text" name="new-quip-text" placeholder="{{#if greetingMode}}Try it out!{{else}}Quip it{{/if}}" maxlength="4000"></textarea>
                    </form>
                </div>

                {{#if helpOverlay }}
                {{#if isActive 'quipbox'}}
                    {{> quipCommands}}
                    {{> quipShortcuts}}
                {{/if}}
                {{/if}}
            </div>

            <div id="quips-blank-bottom" class="quips-blank"></div>

        </div>

</template>

<template name="quipShortcuts">
    <div class="quip-shortcuts help-overlay">
        <div class="margin-note">
            <div>
                <span class="title">Shortcuts</span>
                <i class="remove icon link" title="Close help"></i>
            </div>
            <div class="keyboard-help">
                <div class="key-help"><span class="key"><b>↑</b></span><label>Previous</label></div>
                <div class="key-help"><span class="key"><b>↓</b></span><label>Next</label></div>
                <div class="key-help"><span class="key">Enter</span><label>Edit / Save</label></div>
                <div class="key-help"><span class="key">Esc</span><label>Cancel</label></div>
                <div class="key-help"><span class="key">Home</span><label>Top</label></div>
                <div class="key-help"><span class="key">End</span><label>Bottom</label></div>
                <div class="key-help"><span class="key">Del</span><label>Delete</label></div>
            </div>
        </div>
    </div>
</template>

<template name="quipCommands">
    <div class="quip-commands help-overlay">
        <div class="margin-note">
            <div>
                <span class="title">Commands</span>
                <i class="remove icon link" title="Close help"></i>
            </div>
            <div class="keyboard-help">
                <div class="key-help"><span class="key"><b>? text</b></span><label>Search</label></div>
                <div class="key-help"><span class="key"><b>#tag</b></span><label>Add tag</label></div>
                <div class="key-help"><span class="key"><b>?# tag</b></span><label>List tagged</label></div>
            </div>
        </div>
    </div>
</template>
